<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>JB2NB !!!!! That's right</title>
</head>

<body>
    <p>please input the jb/nb url</p>
    <input type="text" placeholder="jb/nb url" id="url">
    <button type="button" onclick="getInputValue();">Get Value</button>
    <p id="res"></p>

    <!--- the button!
    <a target="_blank" href="https://colab.research.google.com/github/huggingface/blog/blob/main/notebooks/01_how_to_train.ipynb"> -->
    <a target="_blank" id="bt">
    <!---the image--->
    <img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab">
    </a>

    <style>
#githubicon {
    position: relative;
}
            #githubicon img {
                position: absolute;
                top: 0px;
                right: 0px;
            }
    </style>
    <!--- TODO: add button --->
    <div id="githubicon">
        <a target="_blank" id="github_icon">
        <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="Back to GitHub"
                width="50" height="50">
        </a>
    </div>

    <script>
        function getInputValue() {
            // Selecting the input element and get its value 
            var inputVal = document.getElementById("url").value;

            let idx = 0;
            let pref = "https://colab.research.google.com/";
            if (inputVal.startsWith("https://github.com/")){
                idx = 19;
                pref += "github/";
            }

            if (inputVal.startsWith("http://nbviewer.ipython.org/")){
                //console.log(inputVal); // for debug
                // indexing it!
                idx = inputVal.indexOf("github");
            }
            // prefix (head) of the result string

            // directly print it in the page
            // get result
            let kk = inputVal.indexOf("blob");
            res.innerHTML = `...${inputVal.substr(kk+6)}`;

            // add attr to <a target="_blank">
            var aa = document.getElementById("bt");
            aa.href = pref + inputVal.substr(idx);
            //document.body.appendChild(a);

        }
    </script>
</body>

</html>
